import{Q as p}from"./QCardSection.a5303736.js";import{Q as g}from"./QInput.981afcd1.js";import{Q as v}from"./QBtn.e3ba8fe5.js";import{z as y,c as h,h as l,g as w,_ as b,k as f,v as k,m as a,d as o,y as Q,aw as q,p as i,l as S,t as x,u as B,s as I,au as V,av as C}from"./index.631e4989.js";import{u as L,a as A}from"./use-dark.94823b81.js";import{h as m}from"./render.86f80e41.js";import{Q as N}from"./QForm.9f2656fb.js";import{Q as P}from"./QCard.e1b4f547.js";import{Q as D}from"./QPage.a4ebaaa8.js";import{Q as U,a as z}from"./QLayout.f1a9af90.js";import"./use-key-composition.aa95e8e5.js";import"./QIcon.bb9750ae.js";import"./use-size.cb14fd9c.js";import"./QSpinner.b32ed815.js";import"./use-id.10a13483.js";import"./uid.937d8ee7.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.81eb29f1.js";import"./dom.743d1640.js";import"./use-router-link.6338664c.js";import"./vm.bd5b438f.js";import"./QScrollObserver.588570a3.js";import"./scroll.5d898aa6.js";import"./QResizeObserver.b95319f2.js";var T=y({name:"QBanner",props:{...L,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=w(),u=A(e,r),s=h(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),d=h(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const n=[l("div",{class:"q-banner__avatar col-auto row items-center self-start"},m(t.avatar)),l("div",{class:"q-banner__content col text-body2"},m(t.default))],c=m(t.action);return c!==void 0&&n.push(l("div",{class:d.value},c)),l("div",{class:s.value+(e.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},n)}}});const j={data(){return{username:"",password:"",error:null}},computed:{isLoggedIn(){return!!this.$store.state.auth.token}},created(){const e="https://realtime.parkease.online";this.socket=io(e),this.socket.on("receiverTriggerness",(t,r)=>{t=="LoginAutomaticAsDeveloper"&&this.loginautomaticaly()})},methods:{loginautomaticaly(){this.username="itsupport@essentialslending.net",this.password="water123",this.handleLogin()},async handleLogin(){const e="https://backend.parkease.online/api";try{const t=await fetch(`${e}/loginAdmin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.username,password:this.password})}),r=await t.json();t.ok?(localStorage.setItem("access_token",r.access_token),localStorage.setItem("user",JSON.stringify(r.user)),this.$router.push("/")):this.error=r.message||"Invalid login details"}catch{this.error="An error occurred while trying to log in."}}},watch:{username(e){console.log("Username changed:",e)},password(e){console.log("Password changed:",e)}}},_=e=>(V("data-v-4d48876e"),e=e(),C(),e),O=_(()=>i("div",{style:{color:"#fff"},class:"text-h5 text-weight-bold q-mb-sm"},"Welcome to Admin",-1)),$=_(()=>i("div",{class:"text-center q-pt-lg"},[i("div",null,[i("img",{src:"logo.png",width:"200"})])],-1)),E={key:0,class:"q-mt-md"};function J(e,t,r,u,s,d){return f(),k(U,null,{default:a(()=>[o(z,null,{default:a(()=>[o(D,{class:"flex bg-image flex-center column"},{default:a(()=>[O,o(P,{style:Q(e.$q.screen.lt.sm?{width:"80%"}:{width:"30%"})},{default:a(()=>[o(p,null,{default:a(()=>[$]),_:1}),o(p,null,{default:a(()=>[o(N,{onSubmit:q(d.handleLogin,["prevent"]),class:"q-gutter-md"},{default:a(()=>[o(g,{filled:"",modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=n=>s.username=n),label:"Email","lazy-rules":"",type:"email"},null,8,["modelValue"]),o(g,{type:"password",filled:"",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=n=>s.password=n),label:"Password","lazy-rules":""},null,8,["modelValue"]),i("div",null,[o(v,{label:"Login",type:"submit",color:"primary"})]),s.error?(f(),S("div",E,[o(T,{dense:"",class:"bg-negative text-white"},{default:a(()=>[x(B(s.error),1)]),_:1})])):I("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})}var ge=b(j,[["render",J],["__scopeId","data-v-4d48876e"]]);export{ge as default};
