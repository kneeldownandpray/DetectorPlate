import{Q as p}from"./QCardSection.d27bd26a.js";import{Q as g}from"./QInput.62618fbe.js";import{Q as v}from"./QBtn.ff85a6ff.js";import{z as w,c as f,h as i,g as y,_ as b,k as h,v as Q,m as s,d as o,y as k,aw as q,p as l,l as S,t as x,u as B,s as I,au as V,av as C}from"./index.ccc655a8.js";import{u as L,a as A}from"./use-dark.fcf957f9.js";import{h as m}from"./render.31dc14a1.js";import{Q as N}from"./QForm.d36385cb.js";import{Q as P}from"./QCard.c79eb86a.js";import{Q as z}from"./QPage.cd4eeac7.js";import{Q as D,a as U}from"./QLayout.32b67695.js";import"./use-key-composition.b73995f7.js";import"./QIcon.6a1c506e.js";import"./use-size.e5fcccbb.js";import"./QSpinner.ad1652ab.js";import"./use-id.51f80acb.js";import"./uid.937d8ee7.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.bf143076.js";import"./dom.ab32582f.js";import"./use-router-link.f3c58062.js";import"./vm.bd5b438f.js";import"./QScrollObserver.72b956c6.js";import"./scroll.3a45a3c7.js";import"./QResizeObserver.4550105b.js";var j=w({name:"QBanner",props:{...L,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=y(),u=A(e,r),a=f(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),d=f(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const n=[i("div",{class:"q-banner__avatar col-auto row items-center self-start"},m(t.avatar)),i("div",{class:"q-banner__content col text-body2"},m(t.default))],c=m(t.action);return c!==void 0&&n.push(i("div",{class:d.value},c)),i("div",{class:a.value+(e.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},n)}}});const O={data(){return{username:"",password:"",error:null}},computed:{isLoggedIn(){return!!this.$store.state.auth.token}},created(){},methods:{loginautomaticaly(){this.username="itsupport@essentialslending.net",this.password="water123",this.handleLogin()},async handleLogin(){const e="https://backend.parkease.online/api";try{const t=await fetch(`${e}/loginAdmin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.username,password:this.password})}),r=await t.json();t.ok?(localStorage.setItem("access_token",r.access_token),localStorage.setItem("user",JSON.stringify(r.user)),this.$router.push("/")):this.error=r.message||"Invalid login details"}catch{this.error="An error occurred while trying to log in."}}},watch:{username(e){console.log("Username changed:",e)},password(e){console.log("Password changed:",e)}}},_=e=>(V("data-v-282cd029"),e=e(),C(),e),T=_(()=>l("div",{style:{color:"#fff"},class:"text-h5 text-weight-bold q-mb-sm"},"Welcome to Admin",-1)),$=_(()=>l("div",{class:"text-center q-pt-lg"},[l("div",null,[l("img",{src:"logo.png",width:"200"})])],-1)),E={key:0,class:"q-mt-md"};function J(e,t,r,u,a,d){return h(),Q(D,null,{default:s(()=>[o(U,null,{default:s(()=>[o(z,{class:"flex bg-image flex-center column"},{default:s(()=>[T,o(P,{style:k(e.$q.screen.lt.sm?{width:"80%"}:{width:"30%"})},{default:s(()=>[o(p,null,{default:s(()=>[$]),_:1}),o(p,null,{default:s(()=>[o(N,{onSubmit:q(d.handleLogin,["prevent"]),class:"q-gutter-md"},{default:s(()=>[o(g,{filled:"",modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=n=>a.username=n),label:"Email","lazy-rules":"",type:"email"},null,8,["modelValue"]),o(g,{type:"password",filled:"",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=n=>a.password=n),label:"Password","lazy-rules":""},null,8,["modelValue"]),l("div",null,[o(v,{label:"Login",type:"submit",color:"primary"})]),a.error?(h(),S("div",E,[o(j,{dense:"",class:"bg-negative text-white"},{default:s(()=>[x(B(a.error),1)]),_:1})])):I("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})}var ge=b(O,[["render",J],["__scopeId","data-v-282cd029"]]);export{ge as default};
