import{Q as p}from"./QCardSection.ac25062c.js";import{Q as f}from"./QInput.0846c112.js";import{Q as v}from"./QBtn.c839cf37.js";import{A as w,c as g,h as l,g as y,_ as b,k as h,x as k,m as a,f as o,z as Q,aw as q,p as i,l as x,u as S,v as B,t as I,au as V,av as A}from"./index.18f49e8a.js";import{u as C,a as L}from"./use-dark.d8789839.js";import{h as m}from"./render.71945eb8.js";import{Q as N}from"./QForm.fc51e6e2.js";import{Q as P}from"./QCard.e6e0f110.js";import{Q as D}from"./QPage.1d763d72.js";import{Q as U,a as z}from"./QLayout.b8657fe5.js";import{l as T}from"./index.5c50d63d.js";import"./use-key-composition.9f04bccf.js";import"./QIcon.3c266a4f.js";import"./use-size.45c64be6.js";import"./QSpinner.017c4684.js";import"./use-id.6e68b60f.js";import"./uid.937d8ee7.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.d0e52edb.js";import"./dom.83014615.js";import"./use-router-link.c448a231.js";import"./vm.bd5b438f.js";import"./QScrollObserver.c2ef3cd2.js";import"./scroll.c3c2c8a7.js";import"./QResizeObserver.d71df60e.js";var j=w({name:"QBanner",props:{...C,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=y(),u=L(e,r),s=g(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),d=g(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const n=[l("div",{class:"q-banner__avatar col-auto row items-center self-start"},m(t.avatar)),l("div",{class:"q-banner__content col text-body2"},m(t.default))],c=m(t.action);return c!==void 0&&n.push(l("div",{class:d.value},c)),l("div",{class:s.value+(e.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},n)}}});const O={data(){return{username:"",password:"",error:null}},computed:{isLoggedIn(){return!!this.$store.state.auth.token}},created(){const e="http://93.127.167.211:5500";this.socket=T(e),this.socket.on("receiverTriggerness",(t,r)=>{t=="LoginAutomaticAsDeveloper"&&this.loginautomaticaly()})},methods:{loginautomaticaly(){this.username="itsupport@essentialslending.net",this.password="water123",this.handleLogin()},async handleLogin(){const e="http://93.127.167.211:8090/api";try{const t=await fetch(`${e}/loginAdmin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.username,password:this.password})}),r=await t.json();t.ok?(localStorage.setItem("access_token",r.access_token),localStorage.setItem("user",JSON.stringify(r.user)),this.$router.push("/")):this.error=r.message||"Invalid login details"}catch{this.error="An error occurred while trying to log in."}}},watch:{username(e){console.log("Username changed:",e)},password(e){console.log("Password changed:",e)}}},_=e=>(V("data-v-598fbb2e"),e=e(),A(),e),$=_(()=>i("div",{style:{color:"#fff"},class:"text-h5 text-weight-bold q-mb-sm"},"Welcome to Admin",-1)),E=_(()=>i("div",{class:"text-center q-pt-lg"},[i("div",null,[i("img",{src:"logo.png",width:"200"})])],-1)),J={key:0,class:"q-mt-md"};function F(e,t,r,u,s,d){return h(),k(U,null,{default:a(()=>[o(z,null,{default:a(()=>[o(D,{class:"flex bg-image flex-center column"},{default:a(()=>[$,o(P,{style:Q(e.$q.screen.lt.sm?{width:"80%"}:{width:"30%"})},{default:a(()=>[o(p,null,{default:a(()=>[E]),_:1}),o(p,null,{default:a(()=>[o(N,{onSubmit:q(d.handleLogin,["prevent"]),class:"q-gutter-md"},{default:a(()=>[o(f,{filled:"",modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=n=>s.username=n),label:"Email","lazy-rules":"",type:"email"},null,8,["modelValue"]),o(f,{type:"password",filled:"",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=n=>s.password=n),label:"Password","lazy-rules":""},null,8,["modelValue"]),i("div",null,[o(v,{label:"Login",type:"submit",color:"primary"})]),s.error?(h(),x("div",J,[o(j,{dense:"",class:"bg-negative text-white"},{default:a(()=>[S(B(s.error),1)]),_:1})])):I("",!0)]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})}var he=b(O,[["render",F],["__scopeId","data-v-598fbb2e"]]);export{he as default};
