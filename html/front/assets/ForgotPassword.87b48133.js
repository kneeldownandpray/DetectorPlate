import{Q as d}from"./QCardSection.00c79619.js";import{Q as c}from"./QInput.61b433c6.js";import{Q as f}from"./QBtn.725545ea.js";import{Q as g}from"./QForm.09e76459.js";import{Q as m}from"./QBanner.f3265566.js";import{Q as h}from"./QCard.4f2f928a.js";import{_,j as y,k as o,v as r,m as s,d as a,av as v,l as Q,t as n,u as p,n as w,s as S,a4 as C,a5 as b,p as i}from"./index.0f230e14.js";import{a as k}from"./axios.ab682c6b.js";import"./render.58209ae1.js";import"./use-key-composition.0d667f1b.js";import"./QIcon.a92d8186.js";import"./use-size.38e17cf2.js";import"./QSpinner.5846cff1.js";import"./uid.937d8ee7.js";import"./use-dark.1601360c.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.7baad7be.js";import"./dom.d9e3a984.js";import"./use-router-link.b39cd90f.js";import"./vm.bd5b438f.js";const B="http://93.127.167.211:8090/api",V=y({name:"ForgotPasswordPage",data(){return{email:"",message:"",success:!1,loading:!1}},methods:{async sendResetCode(){this.loading=!0,this.message="";try{const e=await k.post(`${B}/forgot-password`,{email:this.email});this.message=e.data.message,this.success=!0,this.$emit("SuccessEmailSent",this.success)}catch(e){e.response?(this.message=e.response.data.message,this.success=!1):(this.message="An error occurred. Please try again.",this.success=!1)}finally{this.loading=!1}}}}),u=e=>(C("data-v-56ea1d9e"),e=e(),b(),e),P=u(()=>i("div",{class:"text-center"},[i("img",{src:"logo.png",width:"200"})],-1)),$=u(()=>i("div",null,"Forgot Password",-1));function F(e,l,I,E,N,q){return o(),r(h,null,{default:s(()=>[a(d,null,{default:s(()=>[a(d,null,{default:s(()=>[P]),_:1}),$,a(g,{onSubmit:v(e.sendResetCode,["prevent"])},{default:s(()=>[a(c,{filled:"",modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=t=>e.email=t),label:"Email",type:"email",required:"","lazy-rules":"",rules:[t=>!!t||"Email is required"]},null,8,["modelValue","rules"]),a(f,{type:"submit",label:"Send Reset Code",color:"primary",class:"full-width",loading:e.loading,disable:e.loading},null,8,["loading","disable"])]),_:1},8,["onSubmit"]),e.message?(o(),Q("div",{key:0,class:w(["q-mt-md",e.success?"text-green":"text-red"])},[e.success?(o(),r(m,{key:0,color:"green"},{default:s(()=>[n(p(e.message),1)]),_:1})):(o(),r(m,{key:1,color:"red"},{default:s(()=>[n(p(e.message),1)]),_:1}))],2)):S("",!0)]),_:1})]),_:1})}var se=_(V,[["render",F],["__scopeId","data-v-56ea1d9e"]]);export{se as default};
