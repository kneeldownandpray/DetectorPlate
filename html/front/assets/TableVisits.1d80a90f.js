import{Q as _}from"./QIcon.a92d8186.js";import{Q as w}from"./QInput.61b433c6.js";import{Q as P}from"./QTooltip.7ca58602.js";import{Q as u}from"./QBtn.725545ea.js";import{Q}from"./QTable.9ea26fae.js";import{Q as U}from"./QCardSection.00c79619.js";import{Q as C}from"./QCard.4f2f928a.js";import{A as T,B as x,_ as V,j as q,r as E,k as p,l as L,p as j,d as s,m as l,v as f,I as B,t as D,u as N,s as $}from"./index.0f230e14.js";import{j as F,k as I}from"./position-engine.5d769691.js";import{u as R}from"./use-quasar.5d04c55b.js";import"./use-size.38e17cf2.js";import"./render.58209ae1.js";import"./use-key-composition.0d667f1b.js";import"./QSpinner.5846cff1.js";import"./uid.937d8ee7.js";import"./use-dark.1601360c.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.7baad7be.js";import"./use-model-toggle.a04225df.js";import"./vm.bd5b438f.js";import"./use-tick.dcbcf161.js";import"./use-timeout.bfe16fad.js";import"./scroll.ec30b58f.js";import"./dom.d9e3a984.js";import"./selection.169e5cc5.js";import"./use-router-link.b39cd90f.js";import"./QSeparator.22ae7d84.js";import"./QList.a7e1fbc1.js";import"./QMarkupTable.d37dbb35.js";import"./QSelect.ba6bd96e.js";import"./QChip.aa6225fa.js";import"./QItem.bc6baf27.js";import"./QItemLabel.8e160ca5.js";import"./use-prevent-scroll.c921f7e1.js";import"./rtl.276c3f1b.js";import"./format.054b8074.js";import"./QCheckbox.a85c7ec2.js";function b(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}var S=T({name:"close-popup",beforeMount(e,{value:o}){const t={depth:b(o),handler(r){t.depth!==0&&setTimeout(()=>{const n=F(e);n!==void 0&&I(n,r,t.depth)})},handlerKey(r){x(r,13)===!0&&t.handler(r)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:o,oldValue:t}){o!==t&&(e.__qclosepopup.depth=b(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}});function h(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function K(e,o,t={}){const{mimeType:r,byteOrderMark:n,encoding:d}=typeof t=="string"?{mimeType:t}:t,i=d!==void 0?new TextEncoder(d).encode([o]):o,m=n!==void 0?[n,i]:[i],k=new Blob(m,{type:r||"application/octet-stream"}),a=document.createElement("a");a.href=window.URL.createObjectURL(k),a.setAttribute("download",e),typeof a.download=="undefined"&&a.setAttribute("target","_blank"),a.classList.add("hidden"),a.style.position="fixed",document.body.appendChild(a);try{return a.click(),h(a),!0}catch(v){return h(a),v}}function g(e,o){let t=o!==void 0?o(e):e;return t=t==null?"":String(t),t=t.split('"').join('""'),`"${t}"`}const c=[{name:"id",align:"left",label:"User ID",field:"id",sortable:!0},{name:"user_name",align:"left",label:"User Name",field:"user_name",sortable:!0},{name:"desc",required:!0,label:"Page",align:"left",field:e=>e.name,sortable:!0},{name:"date",align:"right",label:"Date",field:"date",sortable:!0}],y=[{id:"U0001",name:"/login",date:"12-10-2019",user_name:"Pratik Patel"},{id:"U0002",name:"/Dashboard",date:"11-02-2019",user_name:"Razvan Stoenescu"},{id:"U0003",name:"/Map",date:"03-25-2019",user_name:"Pratik Patel"},{id:"U0004",name:"/Mail",date:"03-18-2019",user_name:"Jeff Galbraith"},{id:"U0005",name:"/Profile",date:"04-09-2019",user_name:"Pratik Patel"}],M=q({name:"TableVisits",setup(){return R(),{filter:E(""),mode:"list",columns:c,rows:y,pagination:{rowsPerPage:10},exportTable(){const o=[c.map(t=>g(t.label))].concat(y.map(t=>c.map(r=>g(typeof r.field=="function"?r.field(t):t[r.field===void 0?r.name:r.field],r.format)).join(","))).join(`\r
`);K("table-export.csv",o,"text/csv")}}}}),A={class:"row q-col-gutter-sm"},O={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"};function z(e,o,t,r,n,d){return p(),L("div",A,[j("div",O,[s(C,{class:"text-grey-8 no-shadow",bordered:""},{default:l(()=>[s(U,{class:"q-pa-none"},{default:l(()=>[s(Q,{class:"no-shadow",rows:e.rows,title:"Page Visits","hide-header":e.mode==="grid",columns:e.columns,"row-key":"name",filter:e.filter,pagination:e.pagination,"onUpdate:pagination":o[1]||(o[1]=i=>e.pagination=i)},{"top-right":l(i=>[s(w,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":o[0]||(o[0]=m=>e.filter=m),placeholder:"Search"},{append:l(()=>[s(_,{name:"search"})]),_:1},8,["modelValue"]),e.mode==="list"?(p(),f(u,{key:0,flat:"",round:"",dense:"",icon:i.inFullscreen?"fullscreen_exit":"fullscreen",onClick:i.toggleFullscreen,class:"q-px-sm"},{default:l(()=>[B((p(),f(P,{disable:e.$q.platform.is.mobile},{default:l(()=>[D(N(i.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[S]])]),_:2},1032,["icon","onClick"])):$("",!0),s(u,{color:"primary","icon-right":"archive",label:"Export to csv","no-caps":"",onClick:e.exportTable},null,8,["onClick"])]),_:1},8,["rows","hide-header","columns","filter","pagination"])]),_:1})]),_:1})])])}var qe=V(M,[["render",z]]);export{qe as default};
