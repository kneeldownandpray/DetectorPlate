import{v as T}from"./vm.bd5b438f.js";import{w as M,o as U,g as x,W as g}from"./index.0f230e14.js";const P={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},j=["beforeShow","show","beforeHide","hide"];function k({showing:l,canShow:s,hideOnRouteChange:i,handleShow:f,handleHide:d,processOnMount:y}){const n=x(),{props:o,emit:u,proxy:c}=n;let t;function H(e){l.value===!0?r(e):m(e)}function m(e){if(o.disable===!0||e!==void 0&&e.qAnchorHandled===!0||s!==void 0&&s(e)!==!0)return;const a=o["onUpdate:modelValue"]!==void 0;a===!0&&(u("update:modelValue",!0),t=e,g(()=>{t===e&&(t=void 0)})),(o.modelValue===null||a===!1)&&p(e)}function p(e){l.value!==!0&&(l.value=!0,u("beforeShow",e),f!==void 0?f(e):u("show",e))}function r(e){if(o.disable===!0)return;const a=o["onUpdate:modelValue"]!==void 0;a===!0&&(u("update:modelValue",!1),t=e,g(()=>{t===e&&(t=void 0)})),(o.modelValue===null||a===!1)&&V(e)}function V(e){l.value!==!1&&(l.value=!1,u("beforeHide",e),d!==void 0?d(e):u("hide",e))}function b(e){o.disable===!0&&e===!0?o["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!1):e===!0!==l.value&&(e===!0?p:V)(t)}M(()=>o.modelValue,b),i!==void 0&&T(n)===!0&&M(()=>c.$route.fullPath,()=>{i.value===!0&&l.value===!0&&r()}),y===!0&&U(()=>{b(o.modelValue)});const v={show:m,hide:r,toggle:H};return Object.assign(c,v),v}export{j as a,k as b,P as u};
