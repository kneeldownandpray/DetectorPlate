import{Q as v}from"./QIcon.c3f0630e.js";import{Q as y}from"./QInput.d328d0ea.js";import{Q}from"./QTooltip.5d22a4d2.js";import{Q as u}from"./QBtn.6503b927.js";import{Q as C}from"./QTable.0d596f76.js";import{Q as U}from"./QCardSection.b2f04ae9.js";import{Q as _}from"./QCard.d3cf51b6.js";import{C as P}from"./ClosePopup.d7278589.js";import{u as T}from"./use-quasar.cf2d48d6.js";import{_ as V,j as x,r as j,k as p,l as B,p as $,d as n,m as l,v as f,I as q,t as D,u as E,s as F}from"./index.ef86348d.js";import"./use-size.955305ef.js";import"./render.0fa28f0b.js";import"./use-key-composition.152c5e79.js";import"./QSpinner.61c3e8e6.js";import"./uid.937d8ee7.js";import"./use-dark.51648456.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.71a42291.js";import"./position-engine.c1775d96.js";import"./selection.28dee7bf.js";import"./use-portal.50097725.js";import"./vm.bd5b438f.js";import"./scroll.124b3ac8.js";import"./dom.a0618220.js";import"./use-model-toggle.2da2574c.js";import"./use-tick.9dbc1409.js";import"./use-timeout.e83c5089.js";import"./use-router-link.5a2b0965.js";import"./QSeparator.76e346ac.js";import"./QList.b595b344.js";import"./QMarkupTable.28295d05.js";import"./QSelect.dd8fb500.js";import"./QChip.05695b8a.js";import"./QItem.0e72154d.js";import"./QItemLabel.8cc1f1e2.js";import"./QDialog.ea73e085.js";import"./use-prevent-scroll.ddadc635.js";import"./rtl.276c3f1b.js";import"./format.054b8074.js";import"./QCheckbox.922543fe.js";function b(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function L(e,o,t={}){const{mimeType:a,byteOrderMark:s,encoding:m}=typeof t=="string"?{mimeType:t}:t,i=m!==void 0?new TextEncoder(m).encode([o]):o,d=s!==void 0?[s,i]:[i],w=new Blob(d,{type:a||"application/octet-stream"}),r=document.createElement("a");r.href=window.URL.createObjectURL(w),r.setAttribute("download",e),typeof r.download=="undefined"&&r.setAttribute("target","_blank"),r.classList.add("hidden"),r.style.position="fixed",document.body.appendChild(r);try{return r.click(),b(r),!0}catch(k){return b(r),k}}function g(e,o){let t=o!==void 0?o(e):e;return t=t==null?"":String(t),t=t.split('"').join('""'),`"${t}"`}const c=[{name:"id",align:"left",label:"User ID",field:"id",sortable:!0},{name:"user_name",align:"left",label:"User Name",field:"user_name",sortable:!0},{name:"desc",required:!0,label:"Page",align:"left",field:e=>e.name,sortable:!0},{name:"date",align:"right",label:"Date",field:"date",sortable:!0}],h=[{id:"U0001",name:"/login",date:"12-10-2019",user_name:"Pratik Patel"},{id:"U0002",name:"/Dashboard",date:"11-02-2019",user_name:"Razvan Stoenescu"},{id:"U0003",name:"/Map",date:"03-25-2019",user_name:"Pratik Patel"},{id:"U0004",name:"/Mail",date:"03-18-2019",user_name:"Jeff Galbraith"},{id:"U0005",name:"/Profile",date:"04-09-2019",user_name:"Pratik Patel"}],N=x({name:"TableVisits",setup(){return T(),{filter:j(""),mode:"list",columns:c,rows:h,pagination:{rowsPerPage:10},exportTable(){const o=[c.map(t=>g(t.label))].concat(h.map(t=>c.map(a=>g(typeof a.field=="function"?a.field(t):t[a.field===void 0?a.name:a.field],a.format)).join(","))).join(`\r
`);L("table-export.csv",o,"text/csv")}}}}),R={class:"row q-col-gutter-sm"},S={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"};function I(e,o,t,a,s,m){return p(),B("div",R,[$("div",S,[n(_,{class:"text-grey-8 no-shadow",bordered:""},{default:l(()=>[n(U,{class:"q-pa-none"},{default:l(()=>[n(C,{class:"no-shadow",rows:e.rows,title:"Page Visits","hide-header":e.mode==="grid",columns:e.columns,"row-key":"name",filter:e.filter,pagination:e.pagination,"onUpdate:pagination":o[1]||(o[1]=i=>e.pagination=i)},{"top-right":l(i=>[n(y,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":o[0]||(o[0]=d=>e.filter=d),placeholder:"Search"},{append:l(()=>[n(v,{name:"search"})]),_:1},8,["modelValue"]),e.mode==="list"?(p(),f(u,{key:0,flat:"",round:"",dense:"",icon:i.inFullscreen?"fullscreen_exit":"fullscreen",onClick:i.toggleFullscreen,class:"q-px-sm"},{default:l(()=>[q((p(),f(Q,{disable:e.$q.platform.is.mobile},{default:l(()=>[D(E(i.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]),_:2},1032,["disable"])),[[P]])]),_:2},1032,["icon","onClick"])):F("",!0),n(u,{color:"primary","icon-right":"archive",label:"Export to csv","no-caps":"",onClick:e.exportTable},null,8,["onClick"])]),_:1},8,["rows","hide-header","columns","filter","pagination"])]),_:1})]),_:1})])])}var Ve=V(N,[["render",I]]);export{Ve as default};
