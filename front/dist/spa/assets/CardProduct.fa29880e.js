import{Q as R}from"./QChip.05695b8a.js";import{Q as K}from"./QImg.6384037a.js";import{Q as B}from"./QBtn.6503b927.js";import{Q as S}from"./QCardSection.b2f04ae9.js";import{Q as U}from"./QIcon.c3f0630e.js";import{u as E,a as J}from"./use-size.955305ef.js";import{u as Y,a as G,b as O}from"./private.use-form.71a42291.js";import{z as T,r as W,c as d,aj as X,h as _,g as Z,J as C,_ as p,j as ee,k as M,v as k,m as h,d as s,n as ae,s as te,p as m,u as L}from"./index.ef86348d.js";import{b as oe}from"./format.054b8074.js";import{a as le}from"./render.0fa28f0b.js";import{Q as ne}from"./QCard.d3cf51b6.js";import"./use-dark.51648456.js";import"./QSpinner.61c3e8e6.js";import"./vm.bd5b438f.js";import"./use-timeout.e83c5089.js";import"./dom.a0618220.js";import"./use-router-link.5a2b0965.js";var re=T({name:"QRating",props:{...E,...Y,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:g,emit:I}){const{proxy:{$q:v}}=Z(),$=J(e),V=G(e),b=O(V),n=W(0);let u={};const y=d(()=>e.readonly!==!0&&e.disable!==!0),w=d(()=>`q-rating row inline items-center q-rating--${y.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),z=d(()=>{const o=Array.isArray(e.icon)===!0?e.icon.length:0,a=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,l=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,i=Array.isArray(e.color)===!0?e.color.length:0,c=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,t=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:o,icon:o>0?e.icon[o-1]:e.icon,selIconLen:a,selIcon:a>0?e.iconSelected[a-1]:e.iconSelected,halfIconLen:l,halfIcon:l>0?e.iconHalf[a-1]:e.iconHalf,colorLen:i,color:i>0?e.color[i-1]:e.color,selColorLen:c,selColor:c>0?e.colorSelected[c-1]:e.colorSelected,halfColorLen:t,halfColor:t>0?e.colorHalf[t-1]:e.colorHalf}}),j=d(()=>{if(typeof e.iconAriaLabel=="string"){const o=e.iconAriaLabel.length!==0?`${e.iconAriaLabel} `:"";return a=>`${o}${a}`}if(Array.isArray(e.iconAriaLabel)===!0){const o=e.iconAriaLabel.length;if(o>0)return a=>e.iconAriaLabel[Math.min(a,o)-1]}return(o,a)=>`${a} ${o}`}),D=d(()=>{const o=[],a=z.value,l=Math.ceil(e.modelValue),i=y.value===!0?0:null,c=e.iconHalf===void 0||l===e.modelValue?-1:l;for(let t=1;t<=e.max;t++){const r=n.value===0&&e.modelValue>=t||n.value>0&&n.value>=t,f=c===t&&n.value<t,A=n.value>0&&(f===!0?l:e.modelValue)>=t&&n.value<t,q=f===!0?t<=a.halfColorLen?e.colorHalf[t-1]:a.halfColor:a.selColor!==void 0&&r===!0?t<=a.selColorLen?e.colorSelected[t-1]:a.selColor:t<=a.colorLen?e.color[t-1]:a.color,P=(f===!0?t<=a.halfIconLen?e.iconHalf[t-1]:a.halfIcon:a.selIcon!==void 0&&(r===!0||A===!0)?t<=a.selIconLen?e.iconSelected[t-1]:a.selIcon:t<=a.iconLen?e.icon[t-1]:a.icon)||v.iconSet.rating.icon;o.push({name:(f===!0?t<=a.halfIconLen?e.iconHalf[t-1]:a.halfIcon:a.selIcon!==void 0&&(r===!0||A===!0)?t<=a.selIconLen?e.iconSelected[t-1]:a.selIcon:t<=a.iconLen?e.icon[t-1]:a.icon)||v.iconSet.rating.icon,attrs:{tabindex:i,role:"radio","aria-checked":e.modelValue===t?"true":"false","aria-label":j.value(t,P)},iconClass:"q-rating__icon"+(r===!0||f===!0?" q-rating__icon--active":"")+(A===!0?" q-rating__icon--exselected":"")+(n.value===t?" q-rating__icon--hovered":"")+(q!==void 0?` text-${q}`:"")})}return o}),F=d(()=>{const o={role:"radiogroup"};return e.disable===!0&&(o["aria-disabled"]="true"),e.readonly===!0&&(o["aria-readonly"]="true"),o});function x(o){if(y.value===!0){const a=oe(parseInt(o,10),1,parseInt(e.max,10)),l=e.noReset!==!0&&e.modelValue===a?0:a;l!==e.modelValue&&I("update:modelValue",l),n.value=0}}function H(o){y.value===!0&&(n.value=o)}function N(o,a){switch(o.keyCode){case 13:case 32:return x(a),C(o);case 37:case 40:return u[`rt${a-1}`]&&u[`rt${a-1}`].focus(),C(o);case 39:case 38:return u[`rt${a+1}`]&&u[`rt${a+1}`].focus(),C(o)}}function Q(){n.value=0}return X(()=>{u={}}),()=>{const o=[];return D.value.forEach(({iconClass:a,name:l,attrs:i},c)=>{const t=c+1;o.push(_("div",{key:t,ref:r=>{u[`rt${t}`]=r},class:"q-rating__icon-container flex flex-center",...i,onClick(){x(t)},onMouseover(){H(t)},onMouseout:Q,onFocus(){H(t)},onBlur:Q,onKeyup(r){N(r,t)}},le(g[`tip-${t}`],[_(U,{class:a,name:l})])))}),e.name!==void 0&&e.disable!==!0&&b(o,"push"),_("div",{class:w.value,style:$.value,...F.value},o)}}});const ie=ee({name:"CardProduct",props:["data"]}),ce={class:"text-h6"},se={class:"text-subtitle1 text-justify q-mt-sm"},ue={class:"col-12"},de={class:"text-h6"},me={class:"text-h6 float-right"};function fe(e,g,I,v,$,V){return M(),k(ne,{class:"no-shadow",bordered:""},{default:h(()=>[s(K,{src:e.data.img,height:"220px"},{default:h(()=>[e.data.chip?(M(),k(R,{key:0,class:ae(e.data.chip_class),color:e.data.chip_color,label:e.data.chip},null,8,["class","color","label"])):te("",!0)]),_:1},8,["src"]),s(S,null,{default:h(()=>[s(B,{fab:"",color:"teal-7",icon:"fas fa-cart-plus",padding:"sm",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"}})]),_:1}),s(S,null,{default:h(()=>[m("div",ce,L(e.data.title),1),m("div",se,L(e.data.caption),1),m("div",null,[s(re,{modelValue:e.data.rating,"onUpdate:modelValue":g[0]||(g[0]=b=>e.data.rating=b),max:"5",size:"1.5em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half",readonly:"","no-dimming":""},null,8,["modelValue"])])]),_:1}),s(S,null,{default:h(()=>[m("div",ue,[m("span",de,L(e.data.amount),1),m("span",me,[s(B,{label:"See Details",rounded:"",color:"secondary",outline:""})])])]),_:1})]),_:1})}var Be=p(ie,[["render",fe]]);export{Be as default};
