import{Q as t}from"./QBtn.6503b927.js";import{Q as i}from"./QCardSection.b2f04ae9.js";import{Q as s}from"./QInput.d328d0ea.js";import{Q as n}from"./QCardActions.8256de57.js";import{Q as d}from"./QCard.d3cf51b6.js";import{Q as p}from"./QDialog.ea73e085.js";import{a as m}from"./axios.ab682c6b.js";import{_ as g,j as V,k as f,l as b,d as o,m as r,F as h,p as k}from"./index.ef86348d.js";import"./QIcon.c3f0630e.js";import"./use-size.955305ef.js";import"./render.0fa28f0b.js";import"./QSpinner.61c3e8e6.js";import"./dom.a0618220.js";import"./use-router-link.5a2b0965.js";import"./vm.bd5b438f.js";import"./use-key-composition.152c5e79.js";import"./uid.937d8ee7.js";import"./use-dark.51648456.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.71a42291.js";import"./use-prevent-scroll.ddadc635.js";import"./scroll.124b3ac8.js";import"./use-timeout.e83c5089.js";import"./use-tick.9dbc1409.js";import"./use-model-toggle.2da2574c.js";import"./use-portal.50097725.js";const u="https://backend.parkease.online/api",C=V({name:"ResumePage",data(){return{resumeDialog:!1,resume:{full_name:"",address:"",birth_address:"",height:null,weight:null,objectives:"",civil_status:"",religion:"",nationality:""},resumeId:null,user:{}}},methods:{async openResumeDialog(){this.resumeDialog=!0;try{const e=localStorage.getItem("access_token_employer"),l=await m.get(`${u}/shortpolling`,{headers:{Authorization:`Bearer ${e}`}});this.user=l.data,this.resume.full_name=`${this.user.first_name} ${this.user.middle_name} ${this.user.last_name}`,this.resume.address=this.user.address}catch(e){console.error("Failed to fetch user data:",e)}},closeResumeDialog(){this.resumeDialog=!1},async saveResume(){try{const e=localStorage.getItem("access_token_employer"),l=await m.post(`${u}/resumes`,this.resume,{headers:{Authorization:`Bearer ${e}`}});this.resumeId=l.data.id,this.resumeDialog=!1,this.openExperienceDialog()}catch(e){console.error(e)}}}}),y=k("div",{class:"text-h6"},"Create Resume",-1);function v(e,l,D,Q,R,U){return f(),b(h,null,[o(t,{onClick:e.openResumeDialog,label:"Create Resume",color:"primary"},null,8,["onClick"]),o(p,{modelValue:e.resumeDialog,"onUpdate:modelValue":l[9]||(l[9]=a=>e.resumeDialog=a),persistent:""},{default:r(()=>[o(d,{class:"custom-dialog"},{default:r(()=>[o(i,{class:"header-format-w"},{default:r(()=>[y]),_:1}),o(i,null,{default:r(()=>[o(s,{disable:"",modelValue:e.resume.full_name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.resume.full_name=a),label:"Assigned Personel Name"},null,8,["modelValue"]),o(s,{disable:"",modelValue:e.resume.address,"onUpdate:modelValue":l[1]||(l[1]=a=>e.resume.address=a),label:"Address"},null,8,["modelValue"]),o(s,{modelValue:e.resume.birth_address,"onUpdate:modelValue":l[2]||(l[2]=a=>e.resume.birth_address=a),label:"Birth Address"},null,8,["modelValue"]),o(s,{modelValue:e.resume.height,"onUpdate:modelValue":l[3]||(l[3]=a=>e.resume.height=a),label:"Height (ft)",type:"number"},null,8,["modelValue"]),o(s,{modelValue:e.resume.weight,"onUpdate:modelValue":l[4]||(l[4]=a=>e.resume.weight=a),label:"Weight (kg)",type:"number"},null,8,["modelValue"]),o(s,{modelValue:e.resume.objectives,"onUpdate:modelValue":l[5]||(l[5]=a=>e.resume.objectives=a),label:"Objectives",type:"textarea"},null,8,["modelValue"]),o(s,{modelValue:e.resume.civil_status,"onUpdate:modelValue":l[6]||(l[6]=a=>e.resume.civil_status=a),label:"Civil Status"},null,8,["modelValue"]),o(s,{modelValue:e.resume.religion,"onUpdate:modelValue":l[7]||(l[7]=a=>e.resume.religion=a),label:"Religion"},null,8,["modelValue"]),o(s,{modelValue:e.resume.nationality,"onUpdate:modelValue":l[8]||(l[8]=a=>e.resume.nationality=a),label:"Nationality"},null,8,["modelValue"])]),_:1}),o(n,{align:"right"},{default:r(()=>[o(t,{onClick:e.saveResume,label:"Save",color:"primary"},null,8,["onClick"]),o(t,{flat:"",onClick:e.closeResumeDialog,label:"Cancel"},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var _=g(C,[["render",v]]);export{_ as default};
