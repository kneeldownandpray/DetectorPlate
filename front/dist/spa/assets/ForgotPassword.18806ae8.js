import{Q as d}from"./QCardSection.b2f04ae9.js";import{Q as c}from"./QInput.d328d0ea.js";import{Q as f}from"./QBtn.6503b927.js";import{Q as g}from"./QForm.5957e0e8.js";import{Q as m}from"./QBanner.c4a5e154.js";import{Q as h}from"./QCard.d3cf51b6.js";import{_,j as y,k as o,v as r,m as s,d as a,ay as Q,l as v,t as n,u as p,n as w,s as S,a4 as k,a5 as C,p as i}from"./index.ef86348d.js";import{a as b}from"./axios.ab682c6b.js";import"./render.0fa28f0b.js";import"./use-key-composition.152c5e79.js";import"./QIcon.c3f0630e.js";import"./use-size.955305ef.js";import"./QSpinner.61c3e8e6.js";import"./uid.937d8ee7.js";import"./use-dark.51648456.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.71a42291.js";import"./dom.a0618220.js";import"./use-router-link.5a2b0965.js";import"./vm.bd5b438f.js";const B="https://backend.parkease.online/api",V=y({name:"ForgotPasswordPage",data(){return{email:"",message:"",success:!1,loading:!1}},methods:{async sendResetCode(){this.loading=!0,this.message="";try{const e=await b.post(`${B}/forgot-password`,{email:this.email});this.message=e.data.message,this.success=!0,this.$emit("SuccessEmailSent",this.success)}catch(e){e.response?(this.message=e.response.data.message,this.success=!1):(this.message="An error occurred. Please try again.",this.success=!1)}finally{this.loading=!1}}}}),u=e=>(k("data-v-56ea1d9e"),e=e(),C(),e),P=u(()=>i("div",{class:"text-center"},[i("img",{src:"logo.png",width:"200"})],-1)),$=u(()=>i("div",null,"Forgot Password",-1));function F(e,l,I,E,N,q){return o(),r(h,null,{default:s(()=>[a(d,null,{default:s(()=>[a(d,null,{default:s(()=>[P]),_:1}),$,a(g,{onSubmit:Q(e.sendResetCode,["prevent"])},{default:s(()=>[a(c,{filled:"",modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=t=>e.email=t),label:"Email",type:"email",required:"","lazy-rules":"",rules:[t=>!!t||"Email is required"]},null,8,["modelValue","rules"]),a(f,{type:"submit",label:"Send Reset Code",color:"primary",class:"full-width",loading:e.loading,disable:e.loading},null,8,["loading","disable"])]),_:1},8,["onSubmit"]),e.message?(o(),v("div",{key:0,class:w(["q-mt-md",e.success?"text-green":"text-red"])},[e.success?(o(),r(m,{key:0,color:"green"},{default:s(()=>[n(p(e.message),1)]),_:1})):(o(),r(m,{key:1,color:"red"},{default:s(()=>[n(p(e.message),1)]),_:1}))],2)):S("",!0)]),_:1})]),_:1})}var se=_(V,[["render",F],["__scopeId","data-v-56ea1d9e"]]);export{se as default};
