import{Q as t}from"./QBtn.6503b927.js";import{Q as i}from"./QCardSection.b2f04ae9.js";import{Q as o}from"./QInput.d328d0ea.js";import{Q as n}from"./QSelect.dd8fb500.js";import{Q as d}from"./QCardActions.8256de57.js";import{Q as p}from"./QCard.d3cf51b6.js";import{Q as g}from"./QDialog.ea73e085.js";import{a as u}from"./axios.ab682c6b.js";import{j as V,_ as f,k as h,l as b,d as s,m as r,F as C,p as v}from"./index.ef86348d.js";const m="https://backend.parkease.online/api",k=V({name:"ResumePage",data(){return{resumeDialog:!1,resume:{full_name:"",address:"",birth_address:"",height:null,weight:null,objectives:"",civil_status:"",religion:"",nationality:"",profession:"",contact_no:""},resumeId:null,user:{},professionOptions:["Auto Mechanic(Heavy Equipment Mechanic)","Auto Mechanic(Small Engine Motor Mechanic)","Barbers / Hairdresser","Boat Builders","Butcher/Slaughterer","Cabinet Maker","Car Tinter","Fitter Welder","Landscape Gardener","Machinist","Medical Laboratory Technicians","Mechanical Fitters","Panel Beaters/Vehicle Spray Painter","Sign Writer","Stonemason/Floor and Wall Tiler","Tile Sitter/Glazier"],civilStatusOptions:["Single","Married","Divorced","Widowed"]}},emits:["resume-saved"],methods:{async openResumeDialog(){this.resumeDialog=!0;try{const e=localStorage.getItem("access_token_applicant"),l=await u.get(`${m}/shortpolling`,{headers:{Authorization:`Bearer ${e}`}});this.user=l.data,this.resume.full_name=`${this.user.first_name} ${this.user.middle_name} ${this.user.last_name}`,this.resume.address=this.user.address}catch(e){console.error("Failed to fetch user data:",e)}},closeResumeDialog(){this.resumeDialog=!1},async saveResume(){try{const e=localStorage.getItem("access_token_applicant"),l=await u.post(`${m}/resumes`,this.resume,{headers:{Authorization:`Bearer ${e}`}});this.resumeId=l.data.id,this.resumeDialog=!1,this.$emit("resume-saved",this.resumeId)}catch(e){console.error(e)}}}}),y=v("div",{class:"text-h6"},"Create Resume",-1);function c(e,l,S,Q,B,U){return h(),b(C,null,[s(t,{onClick:e.openResumeDialog,label:"Create Resume",color:"primary"},null,8,["onClick"]),s(g,{modelValue:e.resumeDialog,"onUpdate:modelValue":l[11]||(l[11]=a=>e.resumeDialog=a),persistent:""},{default:r(()=>[s(p,{class:"custom-dialog"},{default:r(()=>[s(i,{class:"header-format-w"},{default:r(()=>[y]),_:1}),s(i,null,{default:r(()=>[s(o,{disable:"",modelValue:e.resume.full_name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.resume.full_name=a),label:"Assigned Personel Name"},null,8,["modelValue"]),s(o,{disable:"",modelValue:e.resume.address,"onUpdate:modelValue":l[1]||(l[1]=a=>e.resume.address=a),label:"Address"},null,8,["modelValue"]),s(o,{modelValue:e.resume.birth_address,"onUpdate:modelValue":l[2]||(l[2]=a=>e.resume.birth_address=a),label:"Birth Address"},null,8,["modelValue"]),s(o,{modelValue:e.resume.height,"onUpdate:modelValue":l[3]||(l[3]=a=>e.resume.height=a),label:"Height (ft)",type:"number"},null,8,["modelValue"]),s(o,{modelValue:e.resume.weight,"onUpdate:modelValue":l[4]||(l[4]=a=>e.resume.weight=a),label:"Weight (kg)",type:"number"},null,8,["modelValue"]),s(o,{modelValue:e.resume.objectives,"onUpdate:modelValue":l[5]||(l[5]=a=>e.resume.objectives=a),label:"Objectives",type:"textarea"},null,8,["modelValue"]),s(n,{modelValue:e.resume.profession,"onUpdate:modelValue":l[6]||(l[6]=a=>e.resume.profession=a),options:e.professionOptions,label:"Profession","emit-value":"","map-options":""},null,8,["modelValue","options"]),s(o,{modelValue:e.resume.contact_no,"onUpdate:modelValue":l[7]||(l[7]=a=>e.resume.contact_no=a),label:"Contact Number",type:"text",rules:[a=>a&&a.length>=10||"Contact number must be at least 10 characters"]},null,8,["modelValue","rules"]),s(n,{modelValue:e.resume.civil_status,"onUpdate:modelValue":l[8]||(l[8]=a=>e.resume.civil_status=a),options:e.civilStatusOptions,label:"Civil Status","emit-value":"","map-options":""},null,8,["modelValue","options"]),s(o,{modelValue:e.resume.religion,"onUpdate:modelValue":l[9]||(l[9]=a=>e.resume.religion=a),label:"Religion"},null,8,["modelValue"]),s(o,{modelValue:e.resume.nationality,"onUpdate:modelValue":l[10]||(l[10]=a=>e.resume.nationality=a),label:"Nationality"},null,8,["modelValue"])]),_:1}),s(d,{align:"right"},{default:r(()=>[s(t,{onClick:e.saveResume,label:"Save",color:"primary"},null,8,["onClick"]),s(t,{flat:"",onClick:e.closeResumeDialog,label:"Cancel"},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var N=f(k,[["render",c]]);export{N as C};
