import{Q as d}from"./QCardSection.47b479df.js";import{Q as c}from"./QInput.98ef1ce8.js";import{Q as f}from"./QBtn.13c9c28e.js";import{Q as g}from"./QForm.280c210b.js";import{Q as m}from"./QBanner.aa02c22c.js";import{Q as h}from"./QCard.cdee3ee2.js";import{_,j as y,k as o,v as r,m as s,d as a,av as v,l as Q,t as n,u as p,n as w,s as S,a4 as k,a5 as C,p as i}from"./index.d4268c22.js";import{a as b}from"./axios.ab682c6b.js";import"./render.d29caea9.js";import"./use-key-composition.3398aa85.js";import"./QIcon.183e8fa8.js";import"./use-size.fd56a178.js";import"./QSpinner.54ae2b08.js";import"./uid.937d8ee7.js";import"./use-dark.57e59592.js";import"./focus-manager.7cc6c8df.js";import"./private.use-form.445d09d5.js";import"./dom.e83c55c8.js";import"./use-router-link.7ecbec49.js";import"./vm.bd5b438f.js";const B="https://backend.ppark.online/api",V=y({name:"ForgotPasswordPage",data(){return{email:"",message:"",success:!1,loading:!1}},methods:{async sendResetCode(){this.loading=!0,this.message="";try{const e=await b.post(`${B}/forgot-password`,{email:this.email});this.message=e.data.message,this.success=!0,this.$emit("SuccessEmailSent",this.success)}catch(e){e.response?(this.message=e.response.data.message,this.success=!1):(this.message="An error occurred. Please try again.",this.success=!1)}finally{this.loading=!1}}}}),u=e=>(k("data-v-56ea1d9e"),e=e(),C(),e),P=u(()=>i("div",{class:"text-center"},[i("img",{src:"logo.png",width:"200"})],-1)),$=u(()=>i("div",null,"Forgot Password",-1));function F(e,l,I,E,N,q){return o(),r(h,null,{default:s(()=>[a(d,null,{default:s(()=>[a(d,null,{default:s(()=>[P]),_:1}),$,a(g,{onSubmit:v(e.sendResetCode,["prevent"])},{default:s(()=>[a(c,{filled:"",modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=t=>e.email=t),label:"Email",type:"email",required:"","lazy-rules":"",rules:[t=>!!t||"Email is required"]},null,8,["modelValue","rules"]),a(f,{type:"submit",label:"Send Reset Code",color:"primary",class:"full-width",loading:e.loading,disable:e.loading},null,8,["loading","disable"])]),_:1},8,["onSubmit"]),e.message?(o(),Q("div",{key:0,class:w(["q-mt-md",e.success?"text-green":"text-red"])},[e.success?(o(),r(m,{key:0,color:"green"},{default:s(()=>[n(p(e.message),1)]),_:1})):(o(),r(m,{key:1,color:"red"},{default:s(()=>[n(p(e.message),1)]),_:1}))],2)):S("",!0)]),_:1})]),_:1})}var se=_(V,[["render",F],["__scopeId","data-v-56ea1d9e"]]);export{se as default};
