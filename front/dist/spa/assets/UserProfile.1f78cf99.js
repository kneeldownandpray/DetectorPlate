import{Q as w}from"./QSpinner.54ae2b08.js";import{Q as D}from"./QBanner.aa02c22c.js";import{Q as b}from"./QAvatar.c0f617fa.js";import{Q as h}from"./QCardSection.47b479df.js";import{a as p,Q as f}from"./QItem.fbffd16a.js";import{Q as g}from"./QList.f1e6330b.js";import{Q as v}from"./QBtn.13c9c28e.js";import{Q}from"./QCardActions.78dd0818.js";import{Q as M}from"./QCard.cdee3ee2.js";import{a as V}from"./axios.ab682c6b.js";import{_ as S,j as C,k as n,l as u,v as d,s as m,d as i,m as l,t as a,u as t,p as e,F as y,q as k,a4 as B,a5 as I}from"./index.d4268c22.js";import"./use-size.fd56a178.js";import"./use-dark.57e59592.js";import"./render.d29caea9.js";import"./QIcon.183e8fa8.js";import"./use-router-link.7ecbec49.js";import"./vm.bd5b438f.js";import"./dom.e83c55c8.js";const j="https://backend.ppark.online/api",q=C({name:"defaultpage",data(){return{resumeData:null,loading:!0,errorMessage:"",showMoreVideos:!1}},mounted(){this.fetchResume()},methods:{async fetchResume(){try{const s=localStorage.getItem("access_token_employer");if(!s){this.errorMessage="No authentication token found";return}const _=await V.post(`${j}/resumes/user/121`,{},{headers:{Authorization:`Bearer ${s}`}});this.resumeData=_.data,this.loading=!1}catch(s){this.errorMessage="Failed to load resume data",this.loading=!1,console.error("Error fetching resume:",s)}},extractVideoId(s){const _=/(?:https?:\/\/)?(?:www\.)?youtube\.com\/(?:watch\?v=|embed\/|v\/|.*v=)?([^&\n?#]+)/,c=s.match(_);return c?c[1]:""},toggleShowMore(){this.showMoreVideos=!this.showMoreVideos,this.showMoreVideos&&this.resumeData.user_videos.length<=5&&(this.showMoreVideos=!1)}}}),r=s=>(B("data-v-2a6bfe87"),s=s(),I(),s),A={class:"q-pa-md"},E={key:1},$=r(()=>e("img",{src:"https://via.placeholder.com/80",alt:"Avatar"},null,-1)),N={class:"q-mb-xs"},R=r(()=>e("strong",null,"Address:",-1)),U=r(()=>e("strong",null,"Birth Address:",-1)),F=r(()=>e("strong",null,"Objectives:",-1)),P=r(()=>e("strong",null,"Nationality:",-1)),W=r(()=>e("strong",null,"Height:",-1)),z=r(()=>e("strong",null,"Weight:",-1)),L=r(()=>e("strong",null,"Civil Status:",-1)),T=r(()=>e("strong",null,"Religion:",-1)),H=r(()=>e("h5",null,"Educational Attainments",-1)),K=r(()=>e("br",null,null,-1)),O=r(()=>e("strong",null,"Period:",-1)),G={key:0},J=r(()=>e("strong",null,"Course:",-1)),X=r(()=>e("strong",null,"Major:",-1)),Y={key:1},Z=r(()=>e("strong",null,"Strand (optional for K12):",-1)),x=r(()=>e("strong",null,"Major:",-1)),ee=r(()=>e("h5",null,"Work Experiences",-1)),se=r(()=>e("strong",null,"Start Date:",-1)),te=r(()=>e("strong",null,"End Date:",-1)),oe=r(()=>e("h5",null,"User Videos",-1)),re={class:"video-container"},ae=["src"],le={class:"video-title"},ne={class:"video-description"};function ie(s,_,c,ue,de,me){return n(),u("div",A,[s.loading?(n(),d(w,{key:0,color:"primary"})):m("",!0),s.errorMessage?(n(),u("div",E,[i(D,{dense:"",class:"bg-negative text-white q-px-lg q-py-sm"},{default:l(()=>[a(t(s.errorMessage),1)]),_:1})])):m("",!0),s.resumeData&&!s.loading?(n(),d(M,{key:2,class:"q-ma-xs"},{default:l(()=>[i(h,null,{default:l(()=>[i(b,{size:"80",class:"q-mb-md"},{default:l(()=>[$]),_:1}),e("h4",N,t(s.resumeData.full_name),1),e("p",null,[R,a(" "+t(s.resumeData.address),1)]),e("p",null,[U,a(" "+t(s.resumeData.birth_address),1)]),e("p",null,[F,a(" "+t(s.resumeData.objectives),1)]),e("p",null,[P,a(" "+t(s.resumeData.nationality),1)]),e("p",null,[W,a(" "+t(s.resumeData.height)+" cm",1)]),e("p",null,[z,a(" "+t(s.resumeData.weight)+" kg",1)]),e("p",null,[L,a(" "+t(s.resumeData.civil_status),1)]),e("p",null,[T,a(" "+t(s.resumeData.religion),1)])]),_:1}),i(h,null,{default:l(()=>[H,i(g,null,{default:l(()=>[(n(!0),u(y,null,k(s.resumeData.educational_attainments,o=>(n(),d(p,{key:o.id},{default:l(()=>[i(f,null,{default:l(()=>[e("p",null,[e("strong",null,t(o.level)+":",1),a(" "+t(o.institution)+" ",1),K,O,a(" "+t(o.period),1)]),o.level==="Tertiary"?(n(),u("p",G,[J,a(" "+t(o.course)+" | ",1),X,a(" "+t(o.major),1)])):m("",!0),o.level==="Secondary"?(n(),u("p",Y,[Z,a(" "+t(o.course)+" | ",1),x,a(" "+t(o.major),1)])):m("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),i(h,null,{default:l(()=>[ee,i(g,null,{default:l(()=>[(n(!0),u(y,null,k(s.resumeData.work_experiences,o=>(n(),d(p,{key:o.id},{default:l(()=>[i(f,null,{default:l(()=>[e("p",null,[e("strong",null,t(o.company_name)+":",1),a(" "+t(o.position),1)]),e("p",null,t(o.job_description),1),e("p",null,[se,a(" "+t(o.start_date)+" | ",1),te,a(" "+t(o.end_date),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),s.resumeData.user_videos&&s.resumeData.user_videos.length?(n(),d(h,{key:0},{default:l(()=>[oe,i(g,null,{default:l(()=>[(n(!0),u(y,null,k(s.showMoreVideos?s.resumeData.user_videos:s.resumeData.user_videos.slice(0,3),(o,_e)=>(n(),d(p,{key:o.id},{default:l(()=>[i(f,{class:"video-info-wrapper"},{default:l(()=>[e("div",re,[e("iframe",{src:`https://www.youtube.com/embed/${s.extractVideoId(o.youtube_link)}`,frameborder:"0",allowfullscreen:"",class:"video-iframe"},null,8,ae)]),e("div",le,[e("strong",null,t(o.title),1)]),e("div",ne,t(o.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s.resumeData.user_videos.length>3&&!s.showMoreVideos?(n(),d(v,{key:0,onClick:s.toggleShowMore,label:"Watch More Videos",color:"primary"},null,8,["onClick"])):m("",!0)]),_:1})):m("",!0),i(Q,null,{default:l(()=>[i(v,{color:"primary",label:"Download Resume"}),i(v,{color:"secondary",label:"Edit Resume"})]),_:1})]),_:1})):m("",!0)])}var je=S(q,[["render",ie],["__scopeId","data-v-2a6bfe87"]]);export{je as default};
